if (self.CavalryLogger) { CavalryLogger.start_js(["XcgOR"]); }

__d("AsyncProfilerBuffer",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=0,h=1,i=2,j=3,k=4,l=j+1;a=function(){__p&&__p();function a(a){this.$1=a||new SharedArrayBuffer(l*k),this.$2=new Int32Array(this.$1,0,j),this.$3=new Float32Array(this.$1,j*k,1)}var b=a.prototype;b.sampleRequested=function(){return this.$2[g]===1};b.setSampleRequested=function(a){this.$2[g]=a?1:0};b.instrumentationHit=function(){return this.$2[i]===1};b.setInstrumentationHit=function(a){this.$2[i]=a?1:0};b.executionActive=function(){return this.$2[h]===1};b.setExecutionActive=function(a){this.$2[h]=a?1:0};b.sliceStartTime=function(){return this.$3[0]};b.setSliceStartTime=function(a){this.$3[0]=a};b.buffer=function(){return this.$1};b.flagArray=function(){return this.$2};return a}();e.exports=a}),null);
__d("AsyncProfiler",["invariant","AsyncProfilerBuffer","AsyncProfilerWorkerResource","ExecutionContextObservers","FBLogger","TimeSlice","WebWorker"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=!1,j,k,l=0,m=[],n=[];function o(a){a.action=="log"||g(0,4251);var b=m[a.recorderID];b||g(0,4252);delete m[a.recorderID];b({trace:a.trace,stats:a.stats})}var p={init:function(a){__p&&__p();if(i){b("FBLogger")("AsyncProfiler").warn("sampling worker already started");return}if(!p.isSupported())return;j=new(b("AsyncProfilerBuffer"))();k=new(b("WebWorker"))(b("AsyncProfilerWorkerResource")).setMessageHandler(o).setAllowCrossPageTransition(!0).execute().postMessage({action:"init",buffer:j.buffer(),samplePeriodMs:a,initTime:Date.now(),numProfilerFrames:2});i=!0;window.__p=p.checkTakeSample;for(var a=0;a<n.length;a++){var c=n[a];k.postMessage({action:"record",recorderID:c})}n=[]},isSupported:function(){return window&&window.Promise&&window.SharedArrayBuffer&&b("WebWorker").isSupported()},enabled:function(){return i},flagArray:function(){return j.flagArray()},checkTakeSample:function(){if(j.instrumentationHit())return;j.setInstrumentationHit(!0);j.sampleRequested()&&p.takeSample()},takeSample:function(){var a=Error.stackTraceLimit;Error.stackTraceLimit=100;var b=new Error().stack;k.postMessage({action:"sample",stack:b,startTime:j.sliceStartTime()});Error.stackTraceLimit=a},terminate:function(){k.terminate(),i=!1,window.__p=void 0},startRecording:function(){p.isSupported()||g(0,4254);var a=l++;i?k.postMessage({action:"record",recorderID:a}):n.push(a);return a},stopRecording:function(b){__p&&__p();p.isSupported()||g(0,4254);var c=a.Promise;if(i){k.postMessage({action:"stop",recorderID:b});return new c(function(a,c){m[b]=a})}else{var d=n.indexOf(b);d!==-1&&n.splice(d,1);return c.resolve(null)}}};b("TimeSlice").registerExecutionContextObserver({onNewContextCreated:function(a,b,c){return null},onContextCanceled:function(a,b){},onBeforeContextStarted:function(a,b,c){return null},onAfterContextStarted:function(a,b,c,d){i&&j.setExecutionActive(!0);return null},onAfterContextEnded:function(a,b,c,d){i&&j.setExecutionActive(!1)},getBeforeID:function(){return(h||(h=b("ExecutionContextObservers"))).beforeIDs.ASYNC_PROFILER},getAfterID:function(){return(h||(h=b("ExecutionContextObservers"))).afterIDs.ASYNC_PROFILER}});e.exports=p}),null);